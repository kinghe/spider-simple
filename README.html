<!DOCTYPE html><html><head><meta charset="utf-8"><style>/* Fonts */
@font-face{
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

/* Body */
html { font-size: 100%; overflow-y: scroll; -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }

body{
  color:#4d4d4c;
  font-family:Georgia, Palatino, 'Palatino Linotype', Times, 'Times New Roman',
              "Hiragino Sans GB", "STXihei", "微软雅黑", serif;
  font-size:12px;
  line-height:1.5em;
  background:#fefefe;
  width: 45em;
  margin: 10px auto;
  padding: 30px;
  border: 1px solid #ddd;
  outline: 1300px solid #f8f8f8;
}

/* Links */
a{ color: #06d; text-decoration:none; }
a:hover{ color: #06e; text-decoration: underline; }
a:active{ color:#faa700; }
a:focus{ outline: thin dotted; }
a:hover, a:active{ outline: 0; }

::-moz-selection { background:rgba(255,255,0,0.3); color:#000 }
::selection { background:rgba(255,255,0,0.3); color:#000 }

a::-moz-selection { background:rgba(255,255,0,0.3); color:#0645ad }
a::selection { background:rgba(255,255,0,0.3); color:#0645ad }

/* Header Anchor Links*/
.headeranchor-link {
  color:#111;
  border: 0;
  margin-left: -20px;
  padding-right: 6px;
  cursor: pointer;
  position: absolute;
  display: block;
  top: 0;
  left: 0;
  bottom: 0;
}

.headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor-link:hover,
.headeranchor-link:visited,
.headeranchor-link:active
{ text-decoration: none; color:#4d4d4c; }
.headeranchor-link:hover .headeranchor:before,
h1:hover .headeranchor:before,
h2:hover .headeranchor:before,
h3:hover .headeranchor:before,
h4:hover .headeranchor:before,
h5:hover .headeranchor:before,
h6:hover .headeranchor:before
{ content: '\f05c'; }

abbr { cursor: pointer; }

/* Paragraphs */
p { margin:1em 0; }

/* Images */
img {
  max-width:100%;
  border: 0;
  -ms-interpolation-mode: bicubic;
  vertical-align: middle;
}

/* Headers */
h1,h2,h3,h4,h5,h6 {
  font-weight:normal;
  color:#111;
  line-height: 1.7;
  position: relative;
}
h4,h5,h6{ font-weight: bold; }
h1 { font-size:2.5em; border-bottom: 1px solid #ddd;}
h2 { font-size:2em; border-bottom:1px solid #eee; padding-bottom: 5px; }
h3 { font-size:1.5em; }
h4 { font-size:1.2em; }
h5 { font-size:1em; }
h6 { font-size:0.9em; }

/* Block Quotes */
blockquote {
  color:#666666;
  margin:0;
  padding-left: 3em;
  border-left: 0.5em #EEE solid;
}
hr { display: block; height: 2px; border: 0; border-top: 1px solid #aaa;border-bottom: 1px solid #eee; margin: 1em 0; padding: 0; }

/* Raw Blocks */
pre, code, kbd, samp {
  color: #000;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  font-size: 0.88em;
  background-color: #F8F8F8;
  border: 1px solid #CCC;
}

pre {
  padding: 10px;
  overflow: auto;
}

code { padding: 0 3px 0 3px; }
pre code { border: 0; padding: 0; }

/* Admonition */
.admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  font-size: 0.88em;
  padding: 0.5em 1em 0.5em 1em;
  margin: 10px auto;
}

.admonition p {
  padding: 0;
  margin: 0.5em 0 0.5em 0;
}

.admonition-title {
  font-weight: bold;
}

.admonition.attention {
  color: #4F8A10;
  background-color: #DFF2BF;
  border: 1px solid #4F8A10;
}

.admonition.caution {
  color: #9F6000;
  background-color: #FEEFB3;
  border: 1px solid #9F6000;
}

.admonition.hint {
  color: #00529B;
  background-color: #BDE5F8;
  border: 1px solid #00529B;
}

.admonition.danger {
  color: #D8000C;
  background-color: #FFBABA;
  border: 1px solid #D8000C;
}

.admonition.note {
  color: #888888;
  background-color: #F8F8F8;
  border: 1px solid #888888;
}

/* Inlines */
b, strong { font-weight: bold; }

ins { background: #ff9; color: #000; text-decoration: none; }

mark { background: #ff0; color: #000; font-style: italic; font-weight: bold; }

sub, sup { font-size: 75%; line-height: 0; position: relative; vertical-align: baseline; }
sup { top: -0.5em; }
sub { bottom: -0.25em; }

dfn { font-style: italic; }

/* Lists */
ul, ol { padding-left: 30px; }
li p:last-child { margin:0 }
.task-list-item { list-style-type: none; }
.task-list-item input { float:left; margin-left: -20px; margin-top: 6px; }
dt { font-weight: bold; font-style: italic;}
dd { margin: 0 0 0 2em; }

/* Tables */
table { width: 100%; border-collapse: collapse; overflow-x: auto; overflow-y: hidden; display: block;}
table tr { background-color: #fefefe; }
table tr:nth-child(2n) { background-color: #f8f8f8; }
td, th { border: 1px solid #ddd; padding: 6px 13px; }

/* Codehilite Tables */
.codehilitetable { border: 0; border-spacing: 0; }
.linenos, .code, .codehilitetable td { border: 0; padding: 0; }
td:not(.linenos) .linenodiv { padding: 0 !important; }
.code { width: 100%; }
.linenos div pre, .linenodiv pre {
  border: 0;
  border-top: 1px solid #CCC;
  border-left: 1px solid #CCC;
  border-right: 1px solid #CCC;
  border-bottom: 1px solid #CCC;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.code div pre {
  border: 0;
  border-top: 1px solid #CCC;
  border-right: 1px solid #CCC;
  border-bottom: 1px solid #CCC;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

/* Media */
@media only screen and (min-width: 480px) {
  body{ font-size:14px; }
}

@media only screen and (min-width: 768px) {
  body{ font-size:16px; }
}

@media print {
  * { background: transparent !important; color: black !important; filter:none !important; -ms-filter: none !important; }
  body{ font-size:12pt; max-width:100%; outline:none; border: 0;}
  a, a:visited { text-decoration: underline; }
  .headeranchor-link { display: none; }
  hr { height: 1px; border:0; border-bottom:1px solid black; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }
  pre { white-space: pre; white-space: pre-wrap; word-wrap: break-word; }
  pre, blockquote { border: 1px solid #999; padding-right: 1em; page-break-inside: avoid; }
  tr, img { page-break-inside: avoid; }
  img { max-width: 100% !important; }
  p, h2, h3 { orphans: 3; widows: 3; }
  h2, h3 { page-break-after: avoid; }
}
</style><title>README</title></head><body><h1 id="spider-simple"><a name="user-content-spider-simple" href="#spider-simple" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>spider-simple</h1>
<p>简易的网络爬虫系统</p>
<h1 id="system-design"><a name="user-content-system-design" href="#system-design" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>系统设计思路(System Design)</h1>
<p>爬虫系统应该包括如下部分</p>
<h2 id="task-module"><a name="user-content-task-module" href="#task-module" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>任务管理模块task module。</h2>
<p>用户和系统交互的中转部分,主要包括UI用户交互模块和任务执行模块。<br />
任务主要包括4个状态<code>status</code>。<br />
<em> <code>TODO</code> 由用户新建时预定义，主要用于任务后的状态识别。任务可以立即执行或者定时执行。<br />
</em> <code>DOING</code> 任务开始启动时由任务模块变更任务状态。<br />
<em> <code>DONE</code> 任务完成状态标志。由任务模块在所有任务结束后，负责变更到此任务状态，同时更新任务统计信息<code>statistics</code>。<br />
</em> <code>UNDO</code> 任务取消，由用户手工确认后系统变更此标示，注意：<br />
    * 1.任务处于UNDO/DONE时不可变更到此标示,即不可对以及取消或者以及完成的任务进行取消，操作无意义。<br />
    * 2.任务处于<code>TODO</code>状态时，直接变更状态即可，无需通知任务执行模块。<br />
    * 3.任务处于<code>DOING</code>状态时，不可直接变更状态需通知任务执行系统停止此任务的所有执行后，由任务执行系统变更到此状态，并同时统计任务已执行情况。</p>
<h3 id="task-run-module"><a name="user-content-task-run-module" href="#task-run-module" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>任务运行模块<code>Task Run Module</code></h3>
<p>任务运行模块的运行依赖于任务模板信息，见<code>template@task</code>。<br />
任务模板信息主要包括<br />
<em> 子任务并行策略。子任务主要包括资源下载任务<code>resource down</code> 和数据分析任务<code>data parse</code>。一个用户task由多个子任务构成。子任务之间存在执行依赖，并发控制，分布式调度等，安排子任务执行策略相当的重要。<br />
</em> 下载会话策略。大部分系统需要经过身份验证后方可获取真正的资源。现运行的主要是经过特殊的子任务(请求登陆页面)获取所需的cookie。<br />
<em> 资源分组策略。见<code>group@down</code>。待下载资源建立时先行建立文件分类索引，<br />
    * <code>数据分析类</code> 主要包括<code>网页HTML</code>,<code>XML</code>。定义为数据分析类的资源用于建立相关联的<code>数据分析</code>子任务。<br />
    * <code>多媒体multi-media</code> 主要包括图片类jpg/png/gif,视频类mp3/flv/mp4,文档类doc/xls/pdf<br />
    * <code>其他other</code> 符合下载策略的资源，但不做任何处理。</em> 数据分析策略。主要完成数据的筛选，以进一步的处理。语句见<code>策略模块</code>。数据分析工作主要包括二个部分。<br />
    * 资源爬取策略。筛选指定元素，从中获取新的资源url，资源描述，新建下载任务(存储于<code>down</code>表)，并调度下载模块完成资源下载。<br />
    * 数据分组策略。筛选指定元素，从中获取有用数据(字符串或者格式化数据)，存储于<code>data</code>表(见<code>数据分析</code>-&gt;<code>数据模型定义</code>)，同时提取关键字为本组数据划分标签。<br />
    * 通知策略。主要用于重要信息对用户的通知。筛选指定元素，从中获取有用数据通知用户。详见<code>系统模块</code>的<code>通知模块Notify Module</code>。</p>
<h3 id="_1"><a name="user-content-_1" href="#_1" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>数据模型定义</h3>
<ul>
<li><code>task</code> :爬虫任务/spider task。<ul>
<li>|&ndash;<code>id</code>:pk</li>
<li>|&ndash;<code>status</code>:任务状态.新建待运行TODO，运行中DOING，完成DONE，任务取消UNDO.</li>
<li>|&ndash;<code>url</code>:资源入口。用于获取的第一个资源</li>
<li>|&ndash;<code>depth</code>:资源爬取深度.</li>
<li>|&ndash;<code>start</code>:任务启动时间(用于定时启动).</li>
<li>|&ndash;<code>template</code>:任务使用的爬虫规则模板(资源爬虫策略，数据分析挖掘，通知系统email或者sms等)</li>
<li>|&ndash;<code>description</code>:任务描述</li>
<li>|&ndash;`statistics:执行结果(成功success，部分成功?half-success，失败failture)，爬取资源统计(总数,成功，失败)，耗时统计(总耗时，成功资源平均下载速度，失败资源耗时)，最优/差下载速度资源列举</li>
</ul>
</li>
</ul>
<h2 id="down-module"><a name="user-content-down-module" href="#down-module" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>资源下载模块down module。</h2>
<h3 id="_2"><a name="user-content-_2" href="#_2" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>系统信息</h3>
<ul>
<li>所属任务<code>task@down</code></li>
<li>上一级资源<code>parent@down</code></li>
<li>资源深度<code>depth@down</code></li>
<li>本地或者局域网存储信息<code>store@down</code> </li>
<li>执行下载的爬虫标示<code>spider@down</code> 下载任务执行时由执行的爬虫自行标示</li>
<li>下载任务状态<code>status@down</code></li>
</ul>
<h3 id="_3"><a name="user-content-_3" href="#_3" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>下载请求信息</h3>
<ul>
<li>资源远程路径<code>url@down</code>.</li>
<li>用户请求类型<code>method@down</code>为空时默认get方法</li>
<li>用户认证信息<code>cookie@down</code></li>
</ul>
<h3 id="_4"><a name="user-content-_4" href="#_4" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>下载统计信息</h3>
<ul>
<li>下载开始时间<code>start@down</code></li>
<li>时间消耗<code>spend@down</code></li>
<li>资源大小<code>size@down</code></li>
</ul>
<h3 id="_5"><a name="user-content-_5" href="#_5" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>资源信息</h3>
<ul>
<li>资源分组<code>group@down</code></li>
<li>资源描述标签<code>tag@down</code></li>
<li>文本文件字符集<code>charset@down</code></li>
<li>资源描述<code>description@down</code></li>
</ul>
<h3 id="_6"><a name="user-content-_6" href="#_6" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>数据模型定义</h3>
<ul>
<li><code>down</code>:资源下载信息/resource down info。<ul>
<li>|&ndash;<code>id</code>:pk</li>
<li>|&ndash;<code>task</code>:任务号，</li>
<li>|&ndash;<code>parent</code>:来源资源，对于初始化资源此项为空。其他资源为来源资源的父id</li>
<li>|&ndash;<code>depth</code>:爬虫深度，</li>
<li>|&ndash;<code>store</code>:本地存储</li>
<li>|&ndash;<code>spider</code>:执行爬虫(用于分布式系统)，同时也用于指定本地网络存储信息的位置</li>
<li>|&ndash;<code>status</code>:资源状态(通<code>status@task</code>)</li>
<li>|&ndash;<code>url</code>:资源路径</li>
<li>|&ndash;<code>method</code>:资源请求类型。默认get</li>
<li>|&ndash;<code>cookie</code>:资源cookie</li>
<li>|&ndash;<code>start</code>:开始时间，</li>
<li>|&ndash;<code>spend</code>:下载所需时间(ms)</li>
<li>|&ndash;<code>size</code>:资源大小。(Byte)</li>
<li>|&ndash;<code>group</code>:资源类型。</li>
<li>|&ndash;<code>tag</code>:资源描述标签，用于索引查询，资源分组</li>
<li>|&ndash;<code>charset</code>:资源字符集。</li>
<li>|&ndash;<code>description</code>:资源描述</li>
</ul>
</li>
</ul>
<h2 id="data-parse-module"><a name="user-content-data-parse-module" href="#data-parse-module" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>数据分析模块/data parse module。</h2>
<p>当数据分析类的资源下载完成后随即启动数据分析子任务。</p>
<h3 id="resource-analysis"><a name="user-content-resource-analysis" href="#resource-analysis" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>资源解析/Resource Analysis</h3>
<p>依赖于<code>group@down</code>信息获取资源类型(分组)，调用系统维护的分组映射的资源解析器，完成资源数据解析。以用于下一个的<code>数据过滤</code>过程。<br />
资源解析器最终将所有资源解析为一个dom树，用于后续的数据过滤。<br />
资源分组类型</p>
<ul>
<li><code>HTML</code>:网页文档，爬虫系统的主分析资源，为获取数据的主要方式。可直接转换为dom树,当js存在部分dom构建暂不考虑。</li>
<li><code>XML</code>:xml文档，常用于<code>RSS</code>，<code>WebService</code>等服务的数据交换。可直接转换为dom树.</li>
<li><code>文档</code>。包括doc，xls，pdf等。一般来说是将其先转为html文档，再进一步转为dom树。</li>
<li><code>多媒体</code>:包括图片，音频，视频等。生成的dom树格式见下<pre><code>&lt;media&gt;   
    &lt;image title=&rdquo; &rdquo; src=&rdquo; &rdquo; length=&rdquo; &rdquo; size=&rdquo; &rdquo; bit=&rdquo; &rdquo; subfix=&rdquo; &ldquo;&gt;   
        &lt;pixel x=&rdquo; &rdquo; y=&rdquo; &ldquo;&gt;0xffffff&lt;pixel&gt;
    &lt;/image&gt;   
    &lt;audio title=&rdquo; &rdquo; src=&rdquo; &rdquo; length=&rdquo; &rdquo; size=&rdquo; &rdquo; time=&rdquo; &rdquo; subfix=&rdquo; &ldquo;&gt;   
    &lt;/audio&gt;   
    &lt;video&gt;    
    &lt;/video&gt;   
&lt;/media&gt;</code></pre>
</li>
</ul>
<h3 id="data-filter"><a name="user-content-data-filter" href="#data-filter" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>数据过滤/Data Filter</h3>
<p>数据过滤采用CSS中的<code>选择子/Selectors</code>模型完成数据过滤。<br />
用户可以定义多个<code>选择子/Selectors</code>并行运行，相互无关。<br />
每一个<code>选择子/Selectors</code>均生成一个元素列表，用于后续的数据挖掘工作。</p>
<h3 id="data-mining"><a name="user-content-data-mining" href="#data-mining" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>数据挖掘/Data Mining</h3>
<p>数据挖掘(Data Mining,DM),又称数据库中的知识发现(Knowledge Discover in Database,KDD).<br />
是指从数据库的大量数据中揭示出隐含的、先前未知的并有潜在价值的信息的非平凡过程。<br />
主要基于人工智能、机器学习、模式识别、统计学、数据库、可视化技术等，高度自动化地分析企业的数据，做出归纳性的推理，从中挖掘出潜在的模式，帮助决策者调整市场策略，减少风险，做出正确的决策。</p>
<p>筛选相关元素用于以下处理。</p>
<ul>
<li>下载繁衍。即查找出新的待下载资源(避免重复下载，符合资源深度，下载url满足一定条件)，新建资源到下一深度，并保持至<code>down</code>表，等待下载模块执行。</li>
<li>数据汇总/统计。挑选出用户需要的信息并存储至<code>dm</code>表，同时向<code>tag@dm</code>插入标签，用于信息索引。信息存储分为三种方式。<ul>
<li>list。用户可提取关键字存储到<code>tag@dm</code>中，关键字存在多个时，空格分开。</li>
<li>map。tag关键字格式为keyword[attr]。信息为二维表的指定cell的值</li>
<li>tree。keyword[attr][attr2].</li>
</ul>
</li>
<li>智能机器人，后续扩展此功能。在挖掘出有用信息后，系统提供的自动处理系统，具有简单智慧，自主学习功能，</li>
</ul>
<h3 id="_7"><a name="user-content-_7" href="#_7" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>数据模型定义</h3>
<ul>
<li><code>dm</code>:记录每个资源(url)分析信息<ul>
<li>|&ndash;<code>id</code>:pk.</li>
<li>|&ndash;<code>down</code>:资源ID。记录数据挖掘信息的来源。</li>
<li>|&ndash;<code>task</code>:任务号。</li>
<li>|&ndash;<code>data</code>:数据存储信息，主要用于小数据量信息存储，当首字母为@时，则随后的字符串为一文件完整路径，用于挖掘信息的记录。</li>
<li>|&ndash;<code>tag</code>:资源描述标签</li>
</ul>
</li>
</ul>
<h2 id="strategy-module"><a name="user-content-strategy-module" href="#strategy-module" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>策略模块/strategy module。</h2>
<p>数据分析<br />
根据资源类型，名称选择相关的数据解析模块。若无法找到资源解析器，不予解析.其中，HTML解析为核心模块。规则管理模块主要也是针对的html的解析。<br></p>
<ul>
<li>规则定义(syntax)。<ul>
<li>基础语法结构B:<code>选择器selectors</code>{<code>标签处理tag handle</code>}。采用css语法获取待分析元素。<ul>
<li>选择器selector.采用CSS2语法。</li>
<li>标签处理tag handle。与css2相异。CSS2是对符合选择器的所有元素属性值的统一设置，而本规则是对符合选择器的所有元素属性值的迭代处理。<ul>
<li>down url.新下载资源<code>url</code>。</li>
<li>select data into gbl_list。将数据append指定的全局资源列表<code>gbl_list</code>中。其中<code>gbl_list</code>为数组，data为字符串string，数组list，或者字典map。当data为list|map时,常用于单个资源，或整个task完成后的统计分析工作</li>
<li>group gbl_list [by index/key].为<code>gbl_list</code>分组</li>
<li>template template_name.引用规则模板完成数据处理。</li>
</ul>
</li>
</ul>
</li>
<li>复合语法结构C。<code>选择器selectors</code>[(B|C)+]</li>
</ul>
</li>
<li>规则模板(template)。对常用的规则完成模板化。</li>
</ul>
<h2 id="system-module"><a name="user-content-system-module" href="#system-module" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>系统模块System Module</h2>
<p>系统通用模块</p>
<h3 id="user-default-config"><a name="user-content-user-default-config" href="#user-default-config" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>用户默认设置User Default Config</h3>
<h3 id="timer"><a name="user-content-timer" href="#timer" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>定时触发Timer</h3>
<h3 id="notify-module"><a name="user-content-notify-module" href="#notify-module" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>通知模块Notify Module</h3>
<p>通知包括email，sms，app等。</p>
<h3 id="_8"><a name="user-content-_8" href="#_8" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>用户场景模式</h3>
<p>为适应多种用户，提供多种场景操作模式<code>scene</code>。<br />
<em> <code>最简操作模式</code>。界面设计要求便捷，易操作。用户仅需提供一个url人口即可，资源爬取策略和数据分析挖掘模块由开发人员按照用户要求设计开发定制，以默认模板的方式提供。<br />
</em> <code>定制操作模式</code>。提供自定义模板管理功能。对用户要求较高，用于更加精细化的任务定制,包括资源爬取策略和数据分析挖掘策略的自定义。</p>
<h2 id="_9"><a name="user-content-_9" href="#_9" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>后续扩展</h2>
<h3 id="intelligent-robot"><a name="user-content-intelligent-robot" href="#intelligent-robot" class="headeranchor-link"  aria-hidden="true"><span class="headeranchor"></span></a>智能机器人Intelligent Robot</h3>
<p>作为数据分析的一个子部分</p></body></html>